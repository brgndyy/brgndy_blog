FROM node:18-alpine

ARG MYSQL_HOST

ARG MYSQL_DATABASE

ARG MYSQL_USER

ARG MYSQL_ROOT_PASSWORD

ARG MYSQL_PORT

ENV MYSQL_HOST=$MYSQL_HOST

ENV MYSQL_DATABASE=$MYSQL_DATABASE

ENV MYSQL_USER=$MYSQL_USER

ENV MYSQL_ROOT_PASSWORD=$MYSQL_ROOT_PASSWORD

ENV MYSQL_PORT=$MYSQL_PORT

WORKDIR /app

COPY package.json .

RUN npm install 

COPY . .

EXPOSE 80

CMD [ "npm", "start" ]
